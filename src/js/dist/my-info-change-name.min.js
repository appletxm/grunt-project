var myInfoChangeName={ajax:null,messageBox:null,removeCardList:[],userNameLen:{max:16,min:2},init:function(){this.ajax=new Ajax,this.messageBox=new MessageBox,this.attachEvent(),this.initValue()},initValue:function(){var a=window.location.search.match(/(.[^?|&]+)=/g),b=window.location.search.match(/=(.[^&]*)/g);return a&&b?(urlParams={},a.forEach(function(a,c){urlParams[a.replace(/=|\?|&/g,"")]=b[c].replace("=","")}),void(document.querySelector("#name").value=decodeURIComponent(urlParams.name))):!1},doSave:function(){var a=document.querySelector("#name").value,b="";if(a&&""!=a||(b="请输入正确的姓名"),a.isNormalText(this.userNameLen.min,this.userNameLen.max)||(b="请输入正确的姓名"),""!==b)return void this.messageBox.show({msg:b,type:"alert",autoClose:!0});var c={sendParameters:{name:a}};c.url=SYS_VAR.SERVER_ADDRESS+"doc/info_update/",c.type="GET",c.asyn=!0,c.onSuccess=this.hanlderSaveSuccess.bind(this),c.onError=this.hanlderSaveError.bind(this),c.mssage=this.messageBox,this.ajax.send(c)},hanlderSaveSuccess:function(a){0===a.code?window.location.href="my-information.html":this.hanlderSaveError(a)},hanlderSaveError:function(a){this.messageBox.show({msg:a.msg,type:"alert",autoClose:!0})},attachEvent:function(){var a=document.querySelector("#save");a.addEventListener("click",function(){this.doSave()}.bind(this))}};myInfoChangeName.init();