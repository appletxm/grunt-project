"use strict";var prescriptionsListAdd={ajax:null,messageBox:null,init:function(){this.messageBox=new MessageBox,this.ajax=new Ajax,this.attachEvent()},attachEvent:function(){var a=document.querySelector("#save");a.addEventListener("click",this.doSaveNewPrescriptions.bind(this))},doSaveNewPrescriptions:function(){var a={sendParameters:{}},b=document.querySelector("#name").value;a.sendParameters.name=b,a.url=SYS_VAR.SERVER_ADDRESS+"doc/medication_group_add/",a.type="GET",a.asyn=!0,a.onSuccess=this.handleSaveSuccess.bind(this),a.onError=this.handleError.bind(this),""===b||void 0===b?this.messageBox.show({msg:"请填写处方单名称后保存！",type:"alert",autoClose:!0}):this.ajax.send(a)},handleSaveSuccess:function(){this.messageBox.show({msg:"保存成功！",type:"alert",autoClose:!0}),setTimeout(function(){window.location.href="prescriptions-list.html"},500)},handleError:function(a){var b=a.msg;b&&""!==b||(b="网络异常，请稍后重试"),this.messageBox.show({msg:b,type:"alert",autoClose:!0})}};prescriptionsListAdd.init();