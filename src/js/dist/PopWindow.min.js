var PopWindow=function(){this.showPanelParameters={},this.popWindow=null,this.init=function(){this.createWindowPanel(),this.attacheEvent()},this.createWindowPanel=function(){var a=document.createElement("div"),b="";b+='<div class="mask"></div>',b+='<div class="container">',b+="<header>选择银行</header>",b+='<div class="body"></div>',b+="<footer></footer>",b+="</div>",document.querySelectorAll("body")[0].appendChild(a),a.className="pop-window",a.innerHTML=b,this.popWindow=a},this.show=function(a){var b,c,d,e,f=this.popWindow,g="";if(this.showPanelParameters=a,b=f.querySelectorAll(".mask")[0],c=f.querySelectorAll("header")[0],d=f.querySelectorAll("footer")[0],e=f.querySelectorAll(".body")[0],a.buttons&&a.buttons.length>0){for(var h=0;h<a.buttons.length;h++){var i=a.buttons[h].callback?'onclick="'+a.buttons[h].callback+'"':"";g+='<a class="'+(a.buttons[h].css||"save")+'"'+i+">"+(a.buttons[h].text||"")+"</a>"}d.innerHTML=g,d.style.display="block"}else d.style.display="none";a.title?(c.innerHTML=a.title||"",c.style.display="block"):c.style.display="none",a.needMask&&(b.style.display="block"),e.innerHTML=a.content||"",f.style.display="block",setTimeout(function(){this.resizeWindow(a,f,c,d,f.querySelectorAll(".container")[0],e)}.bind(this),0)},this.resizeWindow=function(a,b,c,d,e,f){var g,h=document.documentElement.clientWidth,i=document.documentElement.clientHeight,j=a.space&&a.space.top?a.space.top:20,k=a.space&&a.space.left?a.space.left:20,l=(a.title?41:0)+(a.buttons&&a.buttons.length>0?40:0),m=h-2*k,n=i-2*j,o=n-l,p=-(n/2),q=-(m/2);a.space.height&&a.space.height>0&&(o=a.space.height,n=o+l,p=-n/2),a.space.width&&a.space.width>0&&(m=a.space.width,q=-m/2),g="width:"+m+"px;"+("height:"+n+"px;")+("margin:"+p+"px "+q+"px;"),e.setAttribute("style",g),f.setAttribute("style","width:"+m+"px;height:"+o+"px;")},this.hide=function(){var a=null,b=this.popWindow;b&&(b.style.display="none",a=b.querySelectorAll(".mask"),a[0].style.display="none")},this.handleContentClick=function(a){var b=this.showPanelParameters;b.contentClickCallback&&"function"===(typeof b.contentClickCallback).toLowerCase()&&b.contentClickCallback(a),a.stopPropagation(),a.preventDefault()},this.handleResizePopEvent=function(){var a,b,c,d=this.popWindow;a=d.querySelectorAll("header")[0],b=d.querySelectorAll("footer")[0],c=d.querySelectorAll(".body")[0],this.resizeWindow(this.showPanelParameters,d,a,b,d.querySelectorAll(".container")[0],c)},this.attacheEvent=function(){var a=this.popWindow,b=a.querySelectorAll(".body")[0],c=navigator.userAgent.toLowerCase();b.addEventListener("click",function(a){this.handleContentClick(a)}.bind(this),!1),b.addEventListener("touchmove",function(a){a.stopPropagation()}),this.popWindow.addEventListener("touchmove",function(a){a.stopPropagation(),a.preventDefault()}),c.indexOf("android")>=0&&c.indexOf("qqbrowser")>=0&&window.addEventListener("resize",function(a){this.handleResizePopEvent(),a.stopPropagation(),a.preventDefault()}.bind(this))},this.init()};