var FullScreenView=function(){this.fullScreenView=null,this.container=null,this.body=null,this.classNames={normal:"full-screen-view",active:"full-screen-view-show",loading:"full-screen-view-loading"},this.init=function(){this.createFullScreenView(),this.attacheEvent()},this.createFullScreenView=function(){var a=document.createElement("div"),b="";b+='<div class="mask"></div>',b+='<div class="container"></div>',a.className="full-screen-view",a.innerHTML=b,document.querySelectorAll("body")[0].appendChild(a),this.fullScreenView=a,setTimeout(function(){this.container=this.fullScreenView.querySelectorAll(".container")[0]}.bind(this),0)},this.handleMaskClick=function(a){this.hide()},this.show=function(a){var b="";a.src&&""!==a.src&&"null"!==a.src&&"undefined"!==a.src&&(1===a.type?b='<img src="'+a.src+'" />':2===a.type&&(b='<video controls="controls" preload="preload" width="240" src="'+a.src+'" type="video/mp4"></video>'),this.container.innerHTML=b,1===a.type?this.body=this.container.querySelectorAll("img")[0]:2===a.type&&(this.body=this.container.querySelectorAll("video")[0]),this.body.onload=function(){this.resizePanel(),a.event?this.setImagePanelToTrigger(a.event):this.body.style.display="block"}.bind(this))},this.setImagePanelToTrigger=function(a){var b,c,d,e,f;b=a.clientY-a.offsetY,c=a.clientX-a.offsetX,d=a.target.clientWidth,e=a.target.clientHeight,f="width:"+d+"px;",f+="height:"+e+"px;",f+="top:"+b+"px;",f+="left:"+c+"px;",f+="display:block;",this.fullScreenView.setAttribute("style",f),setTimeout(function(){this.fullScreenView.className=this.classNames.normal+" "+this.classNames.active}.bind(this),0)},this.imgLoading=function(a){var b,c,d,e,f;b=a.clientY-a.offsetY,c=a.clientX-a.offsetX,d=a.target.clientWidth,e=a.target.clientHeight,f="width:"+d+"px;",f+="height:"+e+"px;",f+="top:"+b+"px;",f+="left:"+c+"px;",this.fullScreenView.className=this.classNames.normal+" "+this.classNames.loading,this.fullScreenView.setAttribute("style",f)},this.hide=function(){this.fullScreenView.className=this.classNames.normal,setTimeout(function(){this.container.innerHTML="",this.fullScreenView.removeAttribute("style"),this.body.onload=null,this.body=null}.bind(this),310)},this.resizePanel=function(){var a,b,c=document.documentElement.clientWidth,d=document.documentElement.clientHeight,e=1;if(!this.body)return!1;if(a=this.body.naturalWidth||this.body.clientWidth,b=this.body.naturalHeight||this.body.clientHeight,a>c){e=c/a;var f=e*b;f>d&&(e=d/b)}else b>d&&(e=d/b);b=e*b,a=e*a;var g=parseInt((c-a)/2,10),h=parseInt((d-b)/2,10);this.body.setAttribute("style","width:"+a+"px; height:"+b+"px; left:"+g+"px; top:"+h+"px;"),this.fullScreenView.querySelectorAll(".mask")[0].setAttribute("style","top:0; bottom:0;")},this.attacheEvent=function(){var a=this.fullScreenView,b=(a.querySelectorAll(".mask")[0],a.querySelectorAll(".container")[0]);b.addEventListener("click",function(a){this.handleMaskClick(a)}.bind(this),!1),a.addEventListener("touchmove",function(a){a.stopPropagation(),a.preventDefault()}),window.addEventListener("resize",function(a){this.resizePanel()}.bind(this)),document.querySelectorAll("body")[0].addEventListener("onorientationchange",function(){this.resizePanel()}.bind(this))},this.init()};