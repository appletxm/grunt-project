var MessageBox=function(){this.showTime=2e3,this.animateTimer=0,this.animateTimeStep=450,this.timer=0,this.msgDom=null,this.msgCss={normal:"tipMsg",active:"tipMsgActived",alert:"alert",loading:"loading",body:"msg-body",bodyActive:"msg-body-actived",loadingActive:"loading-actived"},this.messageParams={},this.show=function(a){var b,c,d=[];if(this.messageParams=a,b=document.querySelectorAll("."+this.msgCss.normal),b.length>0){for(var e in b)/\d/.test(e)&&d.push(b[e]);this.msgDom=d[d.length-1],this.msgBody=document.querySelectorAll(".msg-body")[0]}else this.msgDom=document.createElement("div"),this.msgBody=document.createElement("div"),c=document.createElement("div"),c.className="mask",this.msgDom.appendChild(c),this.msgDom.appendChild(this.msgBody),document.querySelectorAll("body")[0].appendChild(this.msgDom);this.buildMessageHTML(a)},this.buildMessageHTML=function(a){var b,c;b="loading"===a.type?'<span class="fa fa-spinner fa-pulse"></span>':a.msg||"",this.msgBody.className=this.msgCss.body+" "+a.type,this.msgDom.className=this.msgCss.normal+" "+this.msgCss.active,setTimeout(function(){c=this.msgCss.body+" "+a.type+" "+("loading"===a.type?this.msgCss.loadingActive:this.msgCss.bodyActive),this.msgBody.className=c,this.msgBody.innerHTML=b,a.autoClose===!0&&(clearTimeout(this.animateTimer),clearTimeout(this.timer),this.timer=setTimeout(function(){this.hide()}.bind(this),this.showTime))}.bind(this),10)},this.hide=function(){this.msgBody&&(this.msgBody.className=this.msgCss.body+" "+(this.messageParams.type||""),this.msgBody.innerHTML=""),this.messageParams={},this.animateTimer=setTimeout(function(){this.msgDom&&(this.msgDom.className=this.msgCss.normal),this.msgBody&&(this.msgBody.className=this.msgCss.body)}.bind(this),this.animateTimeStep)}};