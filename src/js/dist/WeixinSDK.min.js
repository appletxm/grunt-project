var WeixinSDK=function(){this.params={tokenTime:0,timeStep:718e4},this.wxConfig=null,this.init=function(a){a.app_id=SYS_VAR.app_id,a.app_secret=SYS_VAR.app_secret,a.url=encodeURIComponent(window.location.href.split("#")[0]),a.interfaceUrl=SYS_VAR.SERVER_ADDRESS+"doc/share_qrcode_info";for(var b in a)this.params[b]||(this.params[b]=a[b]);this.getSignature()},this.getSignature=function(){var a=this.params,b={sendParameters:{}};b.sendParameters.share_url=a.url,b.url=a.interfaceUrl,b.type="GET",b.asyn=!0,b.onSuccess=this.handleGetSignatureSuccess.bind(this),b.onError=this.handleError.bind(this),a.ajax.send(b)},this.handleGetSignatureSuccess=function(a){var b=a;0===b.code||"0"===b.code?(this.wxConfig=b.data[0],this.getWXAPIInitConfig()):this.handleError(a)},this.getWXAPIInitConfig=function(){var a={};a=this.wxConfig?{debug:this.params.debug||null,appId:this.params.app_id,jsApiList:this.params.jsApiList,timestamp:this.wxConfig.timestamp,nonceStr:this.wxConfig.noncestr,signature:this.wxConfig.signature}:null,this.doWXAPIInit(a)},this.doWXAPIInit=function(a){var b=this.params;a?(wx.config(a),wx.ready(function(){b.successCallback()}.bind(this)),wx.error(function(){b.errorCallback()}.bind(this))):b.errorCallback()},this.handleError=function(){this.wxConfig=null,this.getWXAPIInitConfig()}};