var pointAdmin={ajax:null,messageBox:null,removeCardList:[],authStatus:4,init:function(){this.ajax=new Ajax,this.messageBox=new MessageBox,this.attachEvent(),this.checkUserAuthData()},getPointList:function(){var a={sendParameters:{}};a.url=SYS_VAR.SERVER_ADDRESS+"doc/query_points/",a.type="GET",a.asyn=!0,a.onSuccess=this.hanlderGetPointSuccess.bind(this),a.onError=this.hanlderGetPointError.bind(this),a.mssage=this.msessageBox,this.ajax.send(a)},hanlderGetPointSuccess:function(a){if(0===a.code){if(a.data&&a.data.length>0){var b=a.data[0];document.querySelector("#canMentionPoint").innerHTML=b.canMentionPoint,document.querySelector("#totalPoint").innerHTML=b.totalPoint,document.querySelector("#grandMention").innerHTML=b.grandMention}}else this.hanlderGetPointError(a)},hanlderGetPointError:function(a){this.messageBox.show({msg:a.msg,type:"alert",autoClose:!0})},applyCash:function(){var a=document.querySelector("#canMentionPoint").innerHTML,b="";a=a?Number(a):0,2e3>a&&1!==this.authStatus?b="积分不足2000且未通过身份认证，无法申请提现！":2e3>a&&1===this.authStatus?b="积分不足2000，无法申请提现！":a>=2e3&&1!==this.authStatus?b="尚未通过身份认证，无法申请提现！":window.location.href="point-cash.html",""!==b&&this.messageBox.show({msg:b,type:"alert",autoClose:!0})},checkUserAuthData:function(){var a={sendParameters:{}};a.url=SYS_VAR.SERVER_ADDRESS+"doc/user_auth_data/",a.type="GET",a.asyn=!0,a.onSuccess=this.handleGetAuthDataSuccess.bind(this),a.onError=this.handleGetAuthData.bind(this),a.mssage=this.messageBox,this.ajax.send(a)},handleGetAuthDataSuccess:function(a){0===a.code||"0"===a.code?(this.authStatus=parseInt(a.data[0].authStatus,10),this.getPointList()):this.handleGetAuthData()},handleGetAuthData:function(){this.authStatus=4,this.getPointList()},attachEvent:function(){var a=document.querySelector("#apply");a.addEventListener("click",function(){this.applyCash()}.bind(this))}};pointAdmin.init();