var mockPatientDetail={data:[{patientId:10,phone:"11111112222",name:"刘德华",age:30,gender:"男",maritalStatus:"未婚",weight:68,height:186,city:"广东湛江坡头区",smokeHistory:"日吸烟量：平均2支;开始吸烟年龄：18;吸烟状态：吸烟",pastDisease:"过往1,过往6,测试其他",hereditaryDisease:"遗传3,遗传4,测试其他",familyHistory:"父亲：家族2,家族21,家族22,其他病史1;母亲：家族5,家族22,其他病史2;兄弟姐妹：家族11,家族22,其他病史3;子女：家族22,其他病史4;",drinkHstory:"饮酒频率：偶尔;日饮酒量：123两;已戒酒，戒酒年龄2岁;饮酒种类：啤酒,红酒,洋酒,其他酒",medicationAllergy:"过敏7,过敏8,其他过敏",headUrl:"http://file-www.sioe.cn/201109/14/222211817.jpg"}],msg:"success",code:0},patientInfo={server:SYS_VAR.SERVER_ADDRESS,messageBox:null,ajax:null,popWindow:null,slideTab:null,requestUrl:SYS_VAR.SERVER_ADDRESS,init:function(){this.messageBox=new MessageBox,this.ajax=new Ajax,this.popWindow=new PopWindow,this.patientId=getQueryString("patientId"),this.getPatientDetail()},doRequest:function(a,b,c){var d=b;d.url=this.requestUrl+a,d.type="GET",d.asyn=!0,d.onSuccess=c.bind(this),d.onError=this.handleGetError.bind(this),d.mssage=this.msessageBox,this.ajax.send(d)},handleGetError:function(a){this.messageBox.show({msg:a.msg,type:"alert",autoClose:!0})},getPatientDetail:function(){var a={sendParameters:{patientId:this.patientId}},b="doc/patient_detail/",c=this.getPatientDetailSuccess;this.doRequest(b,a,c),this.getPatientDetailSuccess(mockPatientDetail)},getPatientDetailSuccess:function(a){if(0===a.code&&a.data&&a.data.length>0){var b=a.data[0];document.querySelector("#maritalStatus").innerHTML=""!==b.maritalStatus&&b.maritalStatus?b.maritalStatus:"无",document.querySelector("#weight").innerHTML=""!==b.weight&&b.weight?b.weight:"无",document.querySelector("#medicationAllergy").innerHTML=b.medicationAllergy,document.querySelector("#pastDisease").innerHTML=b.pastDisease,document.querySelector("#familyHistory").innerHTML=b.familyHistory,document.querySelector("#hereditaryDisease").innerHTML=b.hereditaryDisease,document.querySelector("#smokeHistory").innerHTML=b.smokeHistory,document.querySelector("#drinkHstory").innerHTML=b.drinkHstory,document.querySelector("#name").innerHTML=b.name,document.querySelector("#city").innerHTML=b.city,document.querySelector("#headUrl").src=b.headUrl,document.querySelector("#sex").className="男"==b.gender?"male":"female"}}};patientInfo.init();