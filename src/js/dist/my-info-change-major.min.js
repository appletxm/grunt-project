var myInfoChangeMajor={ajax:null,messageBox:null,removeCardList:[],init:function(){this.ajax=new Ajax,this.messageBox=new MessageBox,this.attachEvent(),this.initValue()},initValue:function(){var a=window.location.search.match(/(.[^?|&]+)=/g),b=window.location.search.match(/=(.[^&]*)/g);return a&&b?(urlParams={},a.forEach(function(a,c){urlParams[a.replace(/=|\?|&/g,"")]=b[c].replace("=","")}),void(document.querySelector("#expertise").value=decodeURIComponent(urlParams.expertise))):!1},doSave:function(a){var b=document.querySelector("#expertise").value;if(b&&b.length>300)return void this.messageBox.show({msg:"请输入少于300字的内容",type:"alert",autoClose:!0});var c={sendParameters:{expertise:b,update_expertise:!0}};""===b&&(c.sendParameters.delType=1),c.url=SYS_VAR.SERVER_ADDRESS+"doc/info_update/",c.type="GET",c.asyn=!0,c.onSuccess=this.hanlderSaveSuccess.bind(this),c.onError=this.hanlderSaveError.bind(this),c.mssage=this.messageBox,this.ajax.send(c)},hanlderSaveSuccess:function(a){0===a.code?window.location.href="my-information.html":this.hanlderSaveError(a)},hanlderSaveError:function(a){this.messageBox.show({msg:a.msg,type:"alert",autoClose:!0})},attachEvent:function(){var a=document.querySelector("#save");a.addEventListener("click",function(a){this.doSave(a)}.bind(this))}};myInfoChangeMajor.init();